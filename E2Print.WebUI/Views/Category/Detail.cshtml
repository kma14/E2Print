@using E2Print.Domain.Entities;

@model E2Print.WebUI.Models.CategoryAndProductsViewModel

@{
    ViewBag.Title = Model.Category.Name;
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section pageMeta{
    <meta name="desciption" content="@Model.Category.Description" />
}
@section pageStyles{
    <style>
        #productPhoto-lg {
            margin-bottom:10px;
        }
        #productPhoto {
            width:100%;
            border: #efefef;
        }
         .thumbnail {
             display: inline-block;
             width: 70px;
             height: 70px;
             margin: 0px 0px 10px 0px;
             border: 1px solid #ffffff;
         }

        .thumbnail:hover {
        }

        .thumbnail-selected {
            border: 1px solid #f79323;
        }

        .product-description {
            line-height: 1.5;
            padding: 20px;
            color: #666;
            font-size: 1.3em;
            min-height: 300px;
            background-color: #f3f3ec;
        }

        .product-description p:first-child:first-letter {
            float: left;
            color: #666;
            font-size: 75px;
            line-height: 60px;
            padding-top: 0px;
            padding-right: 8px;
            padding-left: 3px;
            font-family: Georgia;
        }

        .price-normal {
            font-size: 3em;
            font-weight: normal;
            color: #303030;
            margin: 10px 0px;
        }

        /* RESPONSIVE CSS
                -------------------------------------------------- */
        /*Extra small devices (portrait phones, less than 576px) */
        /* No media query since this is the default in Bootstrap*/

        /*Small devices (landscape phones, 576px and up)*/
        @@media (min-width: 576px) {
        }

        /*Medium devices (tablets, 768px and up)*/
        @@media (min-width: 768px) {
        }

        /*Large devices (desktops, 992px and up)*/
        @@media (min-width: 992px) {
        }

        /*Extra large devices (large desktops, 1200px and up)*/
        @@media (min-width: 1200px) {
        }
    </style>
}
@section DetailSripts{
    <script src="~/Scripts/Product.js"></script>
    <script>
        $(document).on('click', '.thumbnail', function () {
            $('span#photoUrl').html($(this).attr('src'));
            $('a.deletePhoto').html('[Delete]');
            $('.thumbnail').removeClass('thumbnail-selected');
            $(this).addClass('thumbnail-selected');
        });
    </script>
}
<link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
<div class="container product">
    <input type="hidden" id="products" value="@Json.Encode(Model.Products)" />
    <input type="hidden" id="onsaleDiscount" value="@Model.Discount" />
    <div style="margin-bottom:20px;font-size:1.4em;text-transform:uppercase;">
        <span style="color:#1f232a;font-weight:bold;">@Model.Category.Name</span>
        @if (Model.OnSale)
        {
            <span style="color:red;font-weight:bold;">(On Sale @((int)((1 - Model.Discount) * 100))% off!)</span>
        }
    </div>
    <div class="row">
        <div id="productPhoto-lg" class="col-lg-5">
            <img id="productPhoto" src=@Model.Photos.First() />
        </div>
        <div class="col-lg-2">
            @for (int i = 0; i < Model.Photos.Count(); i++)
            {
                var selectedClass = i == 0 ? "thumbnail-selected" : "";
                <img src=@Model.Photos[i] class="thumbnail @selectedClass " />
            }
        </div>
        <div class="col-lg-5">
            <p>
                <span class="selectLabel">Item No:</span><span class="product-detail-id"></span>
            </p>
            <p>
                <div id="size_dd" class="wrapper-dropdown-3" tabindex="1">
                    <span>Size</span>
                    <ul class="dropdown">
                        @foreach (var size in Model.Sizes)
                        {
                            <li><a href="#">@size<input type="hidden" class="opt-data" /></a></li>
                        }
                    </ul>
                </div>
            </p>
            <p>
                <div id="color_dd" class="wrapper-dropdown-3" tabindex="2">
                    <span>Color</span>
                    <ul class="dropdown">
                        @foreach (var color in Model.Colors)
                        {
                            <li><a href="#">@color<input type="hidden" class="opt-data" /></a></li>
                        }
                    </ul>
                </div>
            </p>
            <p>

                <div id="quantity_dd" class="wrapper-dropdown-3" tabindex="3">
                    <span>Quantity</span>
                    <ul class="dropdown">
                        @foreach (var pack in Model.Packs)
                        {
                            <li><a href="#">@pack<input type="hidden" class="opt-data" /></a></li>
                        }
                    </ul>
                </div>
            </p>
            <p>
                <div id="material_dd" class="wrapper-dropdown-3" tabindex="4">
                    <span>Material</span>
                    <ul class="dropdown">
                        @foreach (var material in Model.Materials)
                        {
                            <li><a href="#">@material<input type="hidden" class="opt-data" /></a></li>
                        }
                    </ul>
                </div>
            </p>
            @*<p class="price-discount">
                    0.00
                </p><span class="gstTag">excludes GST</span>*@
            <p class="price-normal">
            </p>
        </div>
    </div>

    <div style="clear:both;"></div>
    <div class="product-description">
        <p>@Model.Category.Description</p>
    </div>
</div>
